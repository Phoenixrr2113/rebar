{"version":3,"sources":["../../../units/urb-base-universal/matchInDepth.js"],"names":["matchInDepth","payload","condition","ix","payloadValue","conditionValue","midMarker_notNull","midMarker_isNull","typeOfValue","typeOfCondition","inCondition","midMarker_in","bMatchFound","inConditionOption"],"mappings":";;AAEA;;AAEe,SAASA,YAAT,CAAuBC,OAAvB,EAAqCC,SAArC,EAAsD;AACnE,OAAM,IAAIC,EAAV,IAAgBD,SAAhB,EAA4B;AAC1B,UAAME,YAAY,GAAGH,OAAO,CAACE,EAAD,CAA5B;AACA,UAAME,cAAc,GAAGH,SAAS,CAACC,EAAD,CAAhC;;AAEA,QAAKE,cAAc,KAAKC,sCAAxB,EAA4C;AAC1C,UAAKF,YAAY,IAAI,IAArB,EAA4B;AAC1B,eAAO,KAAP;AACD,OAFD,MAEO;AACL;AACD;AACF;AACD,QAAKC,cAAc,KAAKE,qCAAxB,EAA2C;AACzC,UAAKH,YAAY,IAAI,IAArB,EAA4B;AAC1B,eAAO,KAAP;AACD,OAFD,MAEO;AACL;AACD;AACF;;AAED,UAAMI,WAAW,GAAG,OAAOJ,YAA3B;AACA,UAAMK,eAAe,GAAG,OAAOJ,cAA/B;;AAEA,QAAKI,eAAe,KAAK,QAAzB,EAAoC;AAClC,YAAMC,WAAW,GAAGL,cAAc,CAACM,iCAAD,CAAlC;;AAEA,UAAKD,WAAL,EAAmB;AACjB;AACA,YAAIE,WAAW,GAAG,KAAlB;AACA,aAAM,IAAIC,iBAAV,IAA+BH,WAA/B,EAA6C;AAC3C,cAAKV,YAAY,CAAEI,YAAF,EAAgBS,iBAAhB,CAAjB,EAAuD;AACrDD,YAAAA,WAAW,GAAG,IAAd;AACA;AACD;AACF;;AAED,YAAK,CAACA,WAAN,EAAoB;AAClB,iBAAO,KAAP;AACD;AACF;AACD;AAdA,WAeK;AACH,cAAKJ,WAAW,KAAKC,eAArB,EAAuC;AACrC,mBAAO,KAAP;AACD;AACD,cAAK,CAACT,YAAY,CAAEI,YAAF,EAAgBC,cAAhB,CAAlB,EAAqD;AACnD,mBAAO,KAAP;AACD;AACF;AACF,KA1BD,MA0BO;AACL,UAAKD,YAAY,KAAKC,cAAtB,EAAuC;AACrC,eAAO,KAAP;AACD;AACF;AACF;;AAED,SAAO,IAAP;AACD","sourcesContent":["// @flow\n\nimport { midMarker_notNull, midMarker_isNull, midMarker_in } from './matchInDepthMarkers'\n\nexport default function matchInDepth( payload: any, condition: any ) {\n  for ( let ix in condition ) {\n    const payloadValue = payload[ix]\n    const conditionValue = condition[ix]\n\n    if ( conditionValue === midMarker_notNull ) {\n      if ( payloadValue == null ) {\n        return false\n      } else {\n        continue\n      }\n    }\n    if ( conditionValue === midMarker_isNull ) {\n      if ( payloadValue != null ) {\n        return false\n      } else {\n        continue\n      }\n    }\n\n    const typeOfValue = typeof payloadValue\n    const typeOfCondition = typeof conditionValue\n\n    if ( typeOfCondition === 'object' ) {\n      const inCondition = conditionValue[midMarker_in]\n\n      if ( inCondition ) {\n        // In condition - match until one match is found\n        let bMatchFound = false\n        for ( let inConditionOption of inCondition ) {\n          if ( matchInDepth( payloadValue, inConditionOption ) ) {\n            bMatchFound = true\n            break\n          }\n        }\n\n        if ( !bMatchFound ) {\n          return false\n        }\n      }\n      // Regular object - match recursively, if the object is of the same type\n      else {\n        if ( typeOfValue !== typeOfCondition ) {\n          return false\n        }\n        if ( !matchInDepth( payloadValue, conditionValue ) ) {\n          return false\n        }\n      }\n    } else {\n      if ( payloadValue !== conditionValue ) {\n        return false\n      }\n    }\n  }\n\n  return true\n}\n"],"file":"matchInDepth.js"}