{"version":3,"sources":["../../../units/rb-base-server/log.js"],"names":["require","load","transports","debugWriteToConsoleLog","push","winston","Console","defaultPersisterLogger","defaultPersister","createLogger","log"],"mappings":";;AAEA;;AAEA;AACA,qH;;AAEA;AACAA,OAAO,CAAE,QAAF,CAAP,CAAoBC,IAApB;;AAEA;AACA,MAAMC,UAAU,GAAG,EAAnB;;AAEA;AACA,IAAKC,6BAAL,EAA8B;AAC5BD,EAAAA,UAAU,CAACE,IAAX,CAAiB,IAAIC,iBAAQH,UAAR,CAAmBI,OAAvB,EAAjB;AACD;;AAED;AACA,MAAMC,sBAAsB,GAAGC,0BAAiBC,YAAjB,EAA/B;AACA,IAAKF,sBAAL,EAA8B;AAC5BL,EAAAA,UAAU,CAACE,IAAX,CAAiBG,sBAAjB;AACD;;AAED;AACA,MAAMG,GAAG,GAAGL,iBAAQI,YAAR,CAAqB,EAAEP,UAAF,EAArB,CAAZ,C;;AAEeQ,G","sourcesContent":["// @flow\n\nimport winston from 'winston'\n\nimport { debugWriteToConsoleLog } from '../_configuration/debug'\nimport defaultPersister from '../_configuration/rb-base-server/graphql/defaultPersister'\n\n// Read environment\nrequire( 'dotenv' ).load()\n\n// Set up transports\nconst transports = []\n\n// If set, show all log messages on console\nif ( debugWriteToConsoleLog ) {\n  transports.push( new winston.transports.Console() )\n}\n\n// If persister specified logger, use it\nconst defaultPersisterLogger = defaultPersister.createLogger()\nif ( defaultPersisterLogger ) {\n  transports.push( defaultPersisterLogger )\n}\n\n// Create winston. Not sure why Flow does not like it. $AssureFlow\nconst log = winston.createLogger({ transports })\n\nexport default log\n"],"file":"log.js"}