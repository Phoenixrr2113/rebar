{"version":3,"sources":["../../../units/rb-base-server/serverHealthz.js"],"names":["serverHealthz","get","req","res","next","defaultPersister","confirmHealth","sendStatus","err","Error"],"mappings":";;AAEA;;AAEA,qH;;AAEA,MAAMA,aAAa,GAAG,uBAAtB;;AAEAA,aAAa,CAACC,GAAd,CAAmB,GAAnB,EAAwB,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA2B;AACjD,MAAI;AACF,UAAMC,0BAAiBC,aAAjB,EAAN;AACAH,IAAAA,GAAG,CAACI,UAAJ,CAAgB,GAAhB;AACD,GAHD,CAGE,OAAQC,GAAR,EAAc;AACdJ,IAAAA,IAAI,CAAE,IAAIK,KAAJ,CAAW,mBAAX,CAAF,CAAJ;AACD;AACF,CAPD,E;AAQeT,a","sourcesContent":["// @flow\n\nimport express from 'express'\n\nimport defaultPersister from '../_configuration/rb-base-server/graphql/defaultPersister'\n\nconst serverHealthz = express()\n\nserverHealthz.get( '/', async( req, res, next ) => {\n  try {\n    await defaultPersister.confirmHealth()\n    res.sendStatus( 200 )\n  } catch ( err ) {\n    next( new Error( 'DB is unreachable' ) )\n  }\n})\nexport default serverHealthz\n"],"file":"serverHealthz.js"}