(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1391:function(e,t,r){"use strict";r.r(t),r.d(t,"validateEmail",function(){return _});var a=r(54),n=r(40),s=r(76),c=r(41),l=r(403),o=r(4),i=r(301),u=r(26),d=r(207),m=r.n(d),x=r(0),h=r.n(x),p=r(31),f=r(30),C=r(215);function _(e){return/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/.test(e)}const S={card:{minWidth:350,maxWidth:1200},...p.a,userName:{borderWidth:1,borderColor:"#c0c0c0",fontWeight:"bold",paddingLeft:10,paddingRight:10}};t.default=Object(o.a)(S)(class extends h.a.Component{constructor(e,t){super(e,t),this._handle_onClick_Create=async()=>{const{UserAccount_Identifier:e,User_Secret:t}=this.state;this.setState({currentOperation:"creating",User_Secret:""});try{const r=window.location,a=r.protocol+"//"+r.hostname+":"+r.port,n=await fetch(a+"/auth/createuser",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserAccount_Identifier:e,User_Secret:t})}),s=await n.json();s.success?this.setState({currentOperation:"success"}):this.setState({currentOperation:"failure",executionStatus:s.error})}catch(e){this.setState({currentOperation:"failure",executionStatus:"Did not receive proper response from server. Please try again. Message:"+e.message})}},this._handle_onClick_CancelCreation=()=>{this.setState({currentOperation:"failure",executionStatus:"User creation has been canceled"})},this._handle_onClick_TryAgain=()=>{this.setState({currentOperation:"prompt",executionStatus:""})},this._handle_onClick_Continue=()=>{window.location.replace("/")},this._handle_onChange_Identifier=e=>{const t=e.target.value,r=_(t);this.setState({UserAccount_Identifier:t,UserAccount_IdentifierValidity:r})},this._handle_onUpdateSecret=e=>{this.setState({User_Secret:e})},this.state={currentOperation:"prompt",executionStatus:"",UserAccount_Identifier:"",UserAccount_IdentifierValidity:!1,User_Secret:""}}renderCreating(){const{classes:e}=this.props,{UserAccount_Identifier:t}=this.state;return h.a.createElement("div",null,h.a.createElement(p.b,{icon:h.a.createElement(m.a,{htmlColor:"#003c78"}),subTitle:"Creating, please wait",title:"New User"}),h.a.createElement(n.a,{className:e.card},h.a.createElement(c.a,null,h.a.createElement(u.a,{component:"p"},"Creating user",h.a.createElement("span",{className:e.userName},t),", please wait."),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement(l.a,{mode:"query"})),h.a.createElement(s.a,null,h.a.createElement(a.a,{onClick:this._handle_onClick_CancelCreation},"Cancel"))))}renderSuccess(){const{classes:e}=this.props,{UserAccount_Identifier:t}=this.state;return h.a.createElement("div",null,h.a.createElement(p.b,{icon:h.a.createElement(m.a,{htmlColor:"#003c78"}),subTitle:"Created",title:"New User"}),h.a.createElement(n.a,{className:e.card},h.a.createElement(c.a,null,h.a.createElement(u.a,{component:"p"},"Created user",h.a.createElement("span",{className:e.userName},t),".")),h.a.createElement(s.a,null,h.a.createElement(a.a,{onClick:this._handle_onClick_Continue},"Continue"))))}renderFailure(){const{classes:e}=this.props,{UserAccount_Identifier:t,executionStatus:r}=this.state;return h.a.createElement("div",null,h.a.createElement(p.b,{icon:h.a.createElement(m.a,{htmlColor:"#ff0000"}),subTitle:"Failed",title:"New User"}),h.a.createElement(n.a,{className:e.card},h.a.createElement(c.a,null,h.a.createElement(u.a,{component:"p"},"Failed creating user",h.a.createElement("span",{className:e.userName},t),"because ",r,".")),h.a.createElement(s.a,null,h.a.createElement(a.a,{onClick:this._handle_onClick_TryAgain},"Try Again"))))}renderPrompt(){const{classes:e}=this.props,{UserAccount_Identifier:t,UserAccount_IdentifierValidity:r,User_Secret:l}=this.state,o=!r||""===l;return h.a.createElement("div",null,h.a.createElement(p.b,{icon:h.a.createElement(m.a,{htmlColor:"#003c78"}),subTitle:"Create new user",title:"New User"}),h.a.createElement(n.a,{className:e.card},h.a.createElement(c.a,null,h.a.createElement(i.a,{autoComplete:"username",fullWidth:!0,label:"E-Mail Address",margin:"normal",value:t,variant:"outlined",onChange:this._handle_onChange_Identifier}),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement(C.a,{onUpdateSecret:this._handle_onUpdateSecret})),h.a.createElement(s.a,null,h.a.createElement(a.a,{disabled:o,onClick:this._handle_onClick_Create},"Create"))))}render(){const{currentOperation:e}=this.state;return h.a.createElement(f.a,null,"prompt"===e&&this.renderPrompt(),"creating"===e&&this.renderCreating(),"success"===e&&this.renderSuccess(),"failure"===e&&this.renderFailure())}})},215:function(e,t,r){"use strict";var a=r(403),n=r(4),s=r(301),c=r(26),l=r(0),o=r.n(l);const i=5,u=80,d=30,m=10;t.a=Object(n.a)({strengthColorPrimary:{backgroundColor:"#a0a0a0"},strengthBarColorPrimary_poor:{backgroundColor:"#a00000"},strengthBarColorPrimary_fair:{backgroundColor:"#0000a0"},strengthBarColorPrimary_good:{backgroundColor:"#00a000"}})(class extends o.a.Component{constructor(e,t){super(e,t),this._handle_onChange_Secret=e=>{const t=e.target.value;this.setState({userSecret:t}),this.updateErrorAndValue(t,this.state.userSecretConfirm)},this._handle_onChange_SecretConfirm=e=>{const t=e.target.value;this.setState({userSecretConfirm:t}),this.updateErrorAndValue(this.state.userSecret,t)},this.state={userSecret:"",userSecretConfirm:"",userSecretPrompt:"",userSecretStrength:0,userSecretQuality:"poor"}}updateErrorAndValue(e,t){let r="";const a=e===t;let n=a?e:"";a||(r="Passwords do not match");const s=function(e,t,r){let a=0;if(!e)return 0;let n={};for(let r=0;r<e.length;r++)n[e[r]]=(n[e[r]]||0)+1,a+=t/n[e[r]];let s={digits:/\d/.test(e),lower:/[a-z]/.test(e),upper:/[A-Z]/.test(e),nonWords:/\W/.test(e)},c=0;for(let e in s)c+=!0===s[e]?1:0;return a+=(c-1)*r}(e,i,m),c=s>=u?"good":s>=d?"fair":"poor";""===r&&(r="Password strength: "+c),"poor"===c&&(n=""),this.props.onUpdateSecret(n),this.setState({userSecretPrompt:r,userSecretQuality:c,userSecretStrength:s})}render(){const{classes:e}=this.props,{userSecret:t,userSecretConfirm:r,userSecretPrompt:n,userSecretQuality:l,userSecretStrength:i}=this.state;return o.a.createElement("div",null,o.a.createElement(s.a,{autoComplete:"new-password",fullWidth:!0,label:"Password",margin:"normal",type:"password",value:t,variant:"outlined",onChange:this._handle_onChange_Secret}),o.a.createElement(s.a,{autoComplete:"new-password",fullWidth:!0,label:"Confirm password",margin:"normal",type:"password",value:r,variant:"outlined",onChange:this._handle_onChange_SecretConfirm}),o.a.createElement(c.a,{variant:"subtitle1",gutterBottom:!0},o.a.createElement("br",null),n),o.a.createElement(a.a,{classes:{colorPrimary:e.strengthColorPrimary,barColorPrimary:e["strengthBarColorPrimary_"+l]},value:50*i/u,variant:"determinate"}))}})}}]);